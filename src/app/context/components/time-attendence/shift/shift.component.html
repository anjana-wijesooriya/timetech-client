<div class="grid grid-cols-12 gap-4 support-wrapper">

    <div class="flex p-2 mb-4 col-span-12 bg-surface-50 dark:bg-surface-950 justify-center">
        <p-confirmDialog></p-confirmDialog>
        <p-toast></p-toast>
        <div class="w-full p-4 m-0 card bg-surface-0 dark:bg-surface-900 page-content-wrapper animate-flip-up animate-ease-in-out"
            *ngIf="mode == 'edit'">
            <div class="flex w-full pb-4 mb-4 card-header border-b border-surface justify-between">
                <div class="flex flex-wrap gap-4 items-center">
                    <p-button icon="pi pi-arrow-left text-xl" [rounded]="true" [outlined]="true" severity="primary"
                        (click)="changeMode(sh.code > 0 ? 'view' : 'list')" />
                    <h5 class="m-0">Add New Shift</h5>
                </div>
                <button pButton label="Save Shift" class="p-button-outlined" icon="pi pi-save" (click)="saveShift()"
                    [loading]="isSaving"></button>
            </div>
            <div class="flex w-full">
                <form #form="ngForm" [formGroup]="formgroup">

                    <div class="grid grid-cols-12 gap-4 w-full fromgrid">
                        <div class="col-span-12 md:col-span-6 lg:col-span-4 xl:col-span-3 p-fluid">
                            <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Shift Name</label>
                            <input id="input" type="text" pInputText formControlName="name">
                            <small class="p-error" id="username-help">Field is required.</small>
                        </div>
                        <div class="col-span-12 md:col-span-6 lg:col-span-4 xl:col-span-3 p-fluid">
                            <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Shift Code</label>
                            <input id="input" type="text" pInputText formControlName="shiftCode">
                            <small class="p-error" id="username-help">Field is required.</small>
                        </div>
                        <div class="col-span-12 md:col-span-6 lg:col-span-4 xl:col-span-3 p-fluid">
                            <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Other Code</label>
                            <input id="input" type="text" pInputText formControlName="otherCode">
                            <small class="p-error" id="username-help"></small>
                        </div>
                        <div class="col-span-12 md:col-span-6 lg:col-span-4 xl:col-span-3 p-fluid">
                            <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Shift Mode</label>
                            <p-dropdown [options]="shiftModes" placeholder="Select Shift Mode" [showClear]="true"
                                formControlName="shiftMode" optionLabel="name" optionValue="code"></p-dropdown>
                            <small class="p-error" id="username-help"></small>
                        </div>
                        <div class="col-span-12 md:col-span-6 lg:col-span-4 xl:col-span-3 p-fluid">
                            <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Duty Roster Shift</label>
                            <div class="flex w-auto items-center">
                                <p-inputSwitch class="p-inputSwitch-lg" id="visa-cost" triggers="focus"
                                    formControlName="isRosterShift"></p-inputSwitch>
                            </div>
                        </div>
                        <div class="col-span-12 md:col-span-6 lg:col-span-4 xl:col-span-3 p-fluid">
                            <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Overtime Eligible</label>
                            <div class="flex w-auto items-center">
                                <p-inputSwitch class="p-inputSwitch-lg" id="visa-cost" triggers="focus"
                                    formControlName="isOteligible"></p-inputSwitch>
                            </div>
                        </div>
                        <div class="col-span-12 md:col-span-6 lg:col-span-4 xl:col-span-3 p-fluid">
                            <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Holiday</label>
                            <div class="flex w-auto items-center">
                                <p-inputSwitch class="p-inputSwitch-lg" id="visa-cost" triggers="focus"
                                    formControlName="holiday"></p-inputSwitch>
                            </div>
                        </div>
                        <div class="col-span-12 md:col-span-6 lg:col-span-4 xl:col-span-3 p-fluid">
                            <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Active</label>
                            <div class="flex w-auto items-center">
                                <p-inputSwitch class="p-inputSwitch-lg" id="visa-cost" triggers="focus"
                                    formControlName="active"></p-inputSwitch>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="hidden w-full ">
                <div class="flex w-full justify-around items-center border-b ">
                    <div class="p-2 "><span class="font-medium text-surface-500 dark:text-surface-300">Code</span>
                        <div class="mt-2 text-surface-700 dark:text-surface-100">333</div>
                    </div>
                    <div class="p-2 "><span class="font-medium text-surface-500 dark:text-surface-300">Name</span>
                        <div class="mt-2 text-surface-700 dark:text-surface-100">26</div>
                    </div>
                    <div class="p-2 "><span class="font-medium text-surface-500 dark:text-surface-300">Other code</span>
                        <div class="mt-2 text-surface-700 dark:text-surface-100">17</div>
                    </div>
                    <div class="p-2 "><span class="font-medium text-surface-500 dark:text-surface-300">Shift Mode</span>
                        <div class="mt-2 text-surface-700 dark:text-surface-100">130</div>
                    </div>
                    <div class="p-2 "><span class="font-medium text-surface-500 dark:text-surface-300">Status</span>
                        <div class="mt-2 text-surface-700 dark:text-surface-100">130</div>
                    </div>
                </div>
            </div>
            <div class="w-full">
                <p-tabView (onChange)="onChangeTab($event)">
                    <p-tabPanel header="General">
                        <div class="flex flex-wrap">
                            <div class="grid grid-cols-12 gap-4 w-full fromgrid">
                                <div class="col-span-12 md:col-span-6 lg:col-span-4 xl:col-span-3 p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Normal Hours</label>
                                    <p-calendar dataType="string" [showIcon]="true" [iconDisplay]="'input'"
                                        [(ngModel)]="sh.nh" [showTime]="true" [timeOnly]="true" ariaLabel="Date"
                                        dataType="string"></p-calendar>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-6 lg:col-span-4 xl:col-span-3 p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Minimum Swipe</label>
                                    <p-inputNumber inputId="minmaxfraction" mode="decimal" value="1" allowEmpty="false"
                                        [showButtons]="true" [min]="1" size="1" [(ngModel)]="sh.minSwipe" />
                                    <small class="p-error" id="username-help">Budgeted Amount required.</small>
                                </div>
                                <div class="col-span-12 md:col-span-6 lg:col-span-4 xl:col-span-3 p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Shift In</label>
                                    <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12" [showIcon]="true"
                                        [iconDisplay]="'input'" [(ngModel)]="sh.nhinTime"></p-calendar>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-6 lg:col-span-4 xl:col-span-3 p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Shift Out</label>
                                    <p-inputGroup>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [(ngModel)]="sh.nhoutTime" [iconDisplay]="'input'"
                                            inputStyleClass="rounded-r-none"></p-calendar>
                                        <p-inputGroupAddon>
                                            <p-checkbox [binary]="true" pTooltip="Next Day"
                                                [(ngModel)]="sh.nhoutNextDay" /></p-inputGroupAddon>
                                    </p-inputGroup>

                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-6 lg:col-span-4 xl:col-span-3 p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Shift Start Range</label>
                                    <p-inputGroup>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [(ngModel)]="sh.shiftStartRange" [iconDisplay]="'input'"
                                            inputStyleClass="rounded-r-none" datatype="string"></p-calendar>
                                        <p-inputGroupAddon>
                                            <p-checkbox [binary]="true" pTooltip="Previous Day"
                                                [(ngModel)]="sh.shiftStartRangePrevDay" /></p-inputGroupAddon>
                                    </p-inputGroup>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-6 lg:col-span-4 xl:col-span-3 p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Shift End Range</label>
                                    <p-inputGroup>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [(ngModel)]="sh.shiftEndRange" [iconDisplay]="'input'"
                                            inputStyleClass="rounded-r-none"></p-calendar>
                                        <p-inputGroupAddon>
                                            <p-checkbox [binary]="true" pTooltip="Next Day"
                                                [(ngModel)]="sh.shiftEndRangeNexDay" /></p-inputGroupAddon>
                                    </p-inputGroup>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-6 lg:col-span-4 xl:col-span-3 p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Break Hours</label>
                                    <p-calendar dataType="string" [timeOnly]="true" [showIcon]="true"
                                        [(ngModel)]="sh.breakHrs" [iconDisplay]="'input'"></p-calendar>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="grid grid-cols-12 gap-4 w-full px-4">
                                    <div class="col-span-12 sm:col-span-6 md:col-span-4">
                                        <div class="flex field-checkbox items-center ">
                                            <p-inputSwitch id="visa-cost" triggers="focus"
                                                [(ngModel)]="sh.offDay"></p-inputSwitch>
                                            <label for="city3">Off Day</label>
                                        </div>
                                        <div class="flex field-checkbox items-center ">
                                            <p-inputSwitch id="visa-cost" triggers="focus"
                                                [(ngModel)]="sh.resetNh"></p-inputSwitch>
                                            <label for="city3">Reset NH</label>
                                        </div>
                                        <div class="flex field-checkbox items-center ">
                                            <p-inputSwitch id="visa-cost" triggers="focus"
                                                [(ngModel)]="sh.shift3OutNextDay"></p-inputSwitch>
                                            <label for="city4">Flexi Timimg</label>
                                        </div>
                                    </div>
                                    <div class="col-span-12 sm:col-span-6 md:col-span-4">
                                        <div class="flex field-checkbox items-center">
                                            <p-inputSwitch id="visa-cost" triggers="focus"
                                                [(ngModel)]="sh.fixedBreak"></p-inputSwitch>
                                            <label for="city4">Fixed Break</label>
                                        </div>
                                        <div class="flex field-checkbox items-center">
                                            <p-inputSwitch id="visa-cost" triggers="focus"
                                                [(ngModel)]="sh.leEeRequiered"></p-inputSwitch>
                                            <label for="city4">LE-EE required</label>
                                        </div>
                                        <div class="flex field-checkbox items-center">
                                            <p-inputSwitch id="visa-cost" triggers="focus"
                                                [(ngModel)]="sh.swipGo"></p-inputSwitch>
                                            <label for="city3">Swipe and Go</label>
                                        </div>
                                    </div>
                                    <div class="col-span-12 sm:col-span-6 md:col-span-4">
                                        <div class="flex field-checkbox items-center ">
                                            <p-inputSwitch id="visa-cost" triggers="focus" [falseValue]="0"
                                                [(ngModel)]="sh.firstPunchLastPunch" [trueValue]="1"></p-inputSwitch>
                                            <label for="city4">First & Last punch only</label>
                                        </div>
                                        <div class="flex field-checkbox items-center">
                                            <p-inputSwitch id="visa-cost" triggers="focus"
                                                [(ngModel)]="sh.breakSwipe"></p-inputSwitch>
                                            <label for="city4">Break Swipe</label>
                                        </div>
                                        <div class="flex field-checkbox items-center">
                                            <p-inputSwitch id="visa-cost" triggers="focus"
                                                [(ngModel)]="sh.missingHrRequiered"></p-inputSwitch>
                                            <label for="city4">Miss Hour required</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </p-tabPanel>
                    <p-tabPanel header="Time Range">
                        <div class="flex flex-wrap">

                            <div class="grid grid-cols-12 gap-4 w-full fromgrid">
                                <div class="col-span-12 md:col-span-6 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">OT-1 In</label>
                                    <p-inputGroup>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [(ngModel)]="sh.ot1inTime" [iconDisplay]="'input'"
                                            inputStyleClass="rounded-r-none"></p-calendar>
                                        <p-inputGroupAddon>
                                            <p-checkbox [binary]="true" pTooltip="Next Day"
                                                [(ngModel)]="sh.ot1innextDay" /></p-inputGroupAddon>
                                    </p-inputGroup>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-6 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">OT-1 Out</label>
                                    <p-inputGroup>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [(ngModel)]="sh.ot1outTime" [iconDisplay]="'input'"
                                            inputStyleClass="rounded-r-none"></p-calendar>
                                        <p-inputGroupAddon>
                                            <p-checkbox [binary]="true" pTooltip="Next Day"
                                                [(ngModel)]="sh.ot1outNextDay" /></p-inputGroupAddon>
                                    </p-inputGroup>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-6 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">OT-2 In</label>
                                    <p-inputGroup>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [(ngModel)]="sh.ot2inTime" [iconDisplay]="'input'"
                                            inputStyleClass="rounded-r-none"></p-calendar>
                                        <p-inputGroupAddon>
                                            <p-checkbox [binary]="true" pTooltip="Next Day"
                                                [(ngModel)]="sh.ot2innextDay" /></p-inputGroupAddon>
                                    </p-inputGroup>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-6 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">OT-2 Out</label>
                                    <p-inputGroup>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [(ngModel)]="sh.ot2outTime" [iconDisplay]="'input'"
                                            inputStyleClass="rounded-r-none"></p-calendar>
                                        <p-inputGroupAddon>
                                            <p-checkbox [binary]="true" pTooltip="Next Day"
                                                [(ngModel)]="sh.ot2outNextDay" /></p-inputGroupAddon>
                                    </p-inputGroup>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                            </div>

                        </div>
                    </p-tabPanel>
                    <p-tabPanel header="Early IN - OUT">
                        <div class="flex flex-wrap">

                            <div class="grid grid-cols-12 gap-4 w-full fromgrid">
                                <div class="col-span-12 md:col-span-4 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Early-1 In</label>
                                    <p-inputGroup>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [(ngModel)]="sh.earlyInTime" [iconDisplay]="'input'"
                                            inputStyleClass="rounded-r-none"></p-calendar>
                                        <p-inputGroupAddon>
                                            <p-checkbox [binary]="true" pTooltip="Next Day"
                                                [(ngModel)]="sh.earlyPrevDay" /></p-inputGroupAddon>
                                    </p-inputGroup>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-4 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Early-1 Out</label>
                                    <p-inputGroup>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [(ngModel)]="sh.earlyOutTime" [iconDisplay]="'input'"
                                            inputStyleClass="rounded-r-none"></p-calendar>
                                        <p-inputGroupAddon>
                                            <p-checkbox [binary]="true" pTooltip="Next Day"
                                                [(ngModel)]="sh.earlyPrevDayOutTime" /></p-inputGroupAddon>
                                    </p-inputGroup>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-4 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Early-1 Overtime</label>
                                    <p-dropdown [options]="overtimeOptions" placeholder="Select an option"
                                        [(ngModel)]="sh.earlyOt" [showClear]="true"></p-dropdown>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-4 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Early-2 In</label>
                                    <p-inputGroup>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [(ngModel)]="sh.earlyIntime2" [iconDisplay]="'input'"
                                            inputStyleClass="rounded-r-none"></p-calendar>
                                        <p-inputGroupAddon>
                                            <p-checkbox [binary]="true" pTooltip="Next Day"
                                                [(ngModel)]="sh.earlyPrevDayIn2" /></p-inputGroupAddon>
                                    </p-inputGroup>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-4 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Early-2 Out</label>
                                    <p-inputGroup>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [(ngModel)]="sh.earlyOutTime2" [iconDisplay]="'input'"
                                            inputStyleClass="rounded-r-none"></p-calendar>
                                        <p-inputGroupAddon>
                                            <p-checkbox [binary]="true" pTooltip="Next Day"
                                                [(ngModel)]="sh.earlyPrevDayOut2" /></p-inputGroupAddon>
                                    </p-inputGroup>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-4 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Early-2 Overtime</label>
                                    <p-dropdown [options]="overtimeOptions" placeholder="Select an option"
                                        [(ngModel)]="sh.earlyOt2" [showClear]="true"></p-dropdown>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                            </div>

                        </div>
                    </p-tabPanel>
                    <p-tabPanel header="Parameters">
                        <div class="flex flex-wrap">

                            <div class="grid grid-cols-12 gap-4 w-full fromgrid">
                                <div class="col-span-12 md:col-span-3 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Late Grace</label>
                                    <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12" [showIcon]="true"
                                        [iconDisplay]="'input'" [(ngModel)]="sh.latestAllowed"></p-calendar>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-3 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Early Grace</label>
                                    <p-inputGroup>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [iconDisplay]="'input'"
                                            inputStyleClass="rounded-r-none"
                                            [(ngModel)]="sh.earliestAllowed"></p-calendar>
                                        <p-inputGroupAddon>
                                            <p-checkbox [binary]="true" pTooltip="Next Day" [(ngModel)]="sh.eenextDay"
                                                trueValue="1" falseValue="0" /></p-inputGroupAddon>
                                    </p-inputGroup>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-3 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Minimum OT</label>
                                    <p-calendar dataType="string" [timeOnly]="true" [showIcon]="true"
                                        [(ngModel)]="sh.minOt" [iconDisplay]="'input'"></p-calendar>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-3 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Round Off OT</label>
                                    <p-calendar dataType="string" [timeOnly]="true" [showIcon]="true"
                                        [iconDisplay]="'input'" [(ngModel)]="sh.roundOt"></p-calendar>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                            </div>

                        </div>
                    </p-tabPanel>
                    <p-tabPanel header="Split Shift">
                        <div class="flex flex-wrap">

                            <div class="grid grid-cols-12 gap-4 w-full fromgrid">
                                <div class="col-span-12 p-fluid">
                                    <div class="flex field-checkbox items-center ">
                                        <p-inputSwitch id="visa-cost" triggers="focus" [(ngModel)]="sh.isSplitShift"
                                            (onChange)="onSplittingShift()"></p-inputSwitch>
                                        <label for="city3">Allow SplitShift</label>
                                    </div>
                                </div>
                                <div class="col-span-12 md:col-span-4 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Break In</label>
                                    <p-inputGroup>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [(ngModel)]="sh.breakIn" [iconDisplay]="'input'"
                                            inputStyleClass="rounded-r-none"
                                            [disabled]="!sh.isSplitShift"></p-calendar>
                                        <p-inputGroupAddon>
                                            <p-checkbox [binary]="true" pTooltip="Next Day"
                                                [(ngModel)]="sh.breakInnextDay"
                                                [disabled]="!sh.isSplitShift" /></p-inputGroupAddon>
                                    </p-inputGroup>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-4 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Break Out</label>
                                    <p-inputGroup>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [(ngModel)]="sh.breakOut" [iconDisplay]="'input'"
                                            [disabled]="!sh.isSplitShift"
                                            inputStyleClass="rounded-r-none"></p-calendar>
                                        <p-inputGroupAddon>
                                            <p-checkbox [binary]="true" pTooltip="Next Day"
                                                [(ngModel)]="sh.breakOutNextDay" [disabled]="!sh.isSplitShift" />
                                        </p-inputGroupAddon>
                                    </p-inputGroup>
                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-4 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Overtime</label>
                                    <p-dropdown [options]="overtimeOptions" placeholder="Select an option"
                                        [showClear]="true" [(ngModel)]="sh.breakOt"
                                        [disabled]="!sh.isSplitShift"></p-dropdown>
                                    <small class="p-error" id="username-help"></small>
                                </div>

                            </div>

                        </div>
                    </p-tabPanel>
                    <p-tabPanel header="Set Conditions">
                        <div class="flex flex-wrap">

                            <div class="grid grid-cols-12 gap-4 w-full fromgrid">
                                <div class="col-span-12 p-fluid">
                                    <div class="flex field-checkbox items-center ">
                                        <p-inputSwitch id="visa-cost" triggers="focus" [trueValue]="1" [falseValue]="0"
                                            [(ngModel)]="sh.shiftSelection"
                                            (onChange)="onSettingConditions()"></p-inputSwitch>
                                        <label for="city3">Allow Set Condition</label>
                                    </div>
                                </div>
                                <div class="col-span-12 md:col-span-6 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">First Punch </label>
                                    <p-inputGroup>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [(ngModel)]="sh.firstPunchStart" [iconDisplay]="'input'"
                                            inputStyleClass="rounded-r-none"
                                            [disabled]="sh.shiftSelection == 0"></p-calendar>
                                        <p-inputGroupAddon>
                                            {{'Between'}}
                                        </p-inputGroupAddon>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [iconDisplay]="'input'" [(ngModel)]="sh.firstPunchEnd"
                                            inputStyleClass="rounded-l-none rounded-r-none"
                                            [disabled]="sh.shiftSelection == 0"></p-calendar>
                                        <p-inputGroupAddon>
                                            <p-checkbox [binary]="true" pTooltip="Next Day"
                                                [(ngModel)]="sh.firstPunchNextDay"
                                                [disabled]="sh.shiftSelection == 0" />
                                        </p-inputGroupAddon>
                                    </p-inputGroup>

                                    <small class="p-error" id="username-help"></small>
                                </div>
                                <div class="col-span-12 md:col-span-6 xl p-fluid">
                                    <label for="float-label" class="font-medium text-surface-900 dark:text-surface-0">Second Punch </label>
                                    <p-inputGroup>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [(ngModel)]="sh.secondPunchStart" [iconDisplay]="'input'"
                                            inputStyleClass="rounded-r-none"
                                            [disabled]="sh.shiftSelection == 0"></p-calendar>
                                        <p-inputGroupAddon>
                                            <p-checkbox [binary]="true" pTooltip="Next Day"
                                                [(ngModel)]="sh.secondPunchStartNextDay"
                                                [disabled]="sh.shiftSelection == 0" />
                                        </p-inputGroupAddon>
                                        <p-inputGroupAddon>
                                            {{'Between'}}
                                        </p-inputGroupAddon>
                                        <p-calendar dataType="string" [timeOnly]="true" [hourFormat]="12"
                                            [showIcon]="true" [iconDisplay]="'input'" [(ngModel)]="sh.secondPunchEnd"
                                            inputStyleClass="rounded-l-none rounded-r-none"
                                            [disabled]="sh.shiftSelection == 0"></p-calendar>
                                        <p-inputGroupAddon>
                                            <p-checkbox [binary]="true" pTooltip="Next Day"
                                                [(ngModel)]="sh.secondPunchNext" [disabled]="sh.shiftSelection == 0" />
                                        </p-inputGroupAddon>
                                    </p-inputGroup>

                                    <small class="p-error" id="username-help"></small>
                                </div>
                            </div>

                        </div>
                    </p-tabPanel>
                </p-tabView>
            </div>

        </div>
        <div class="w-full p-4 m-0 card bg-surface-0 dark:bg-surface-900 page-content-wrapper animate-zoominup animate-duration-400 "
            *ngIf="mode == 'view'">
            <div class="flex w-full pb-4 mb-4 card-header border-b border-surface justify-between">
                <div class="flex flex-wrap gap-4 items-center">
                    <p-button icon="pi pi-arrow-left text-xl" [rounded]="true" [outlined]="true" severity="primary"
                        (click)="changeMode('list')" />
                    <h5 class="m-0">Shift Details</h5>
                </div>
                <div class="flex flex-wrap gap-4">
                    <button pButton label="Duplicate" class="p-button-outlined" icon="icon-copy-slash"
                        (click)="onDuplicate()"></button>
                    <button pButton label="Edit Shift" class="p-button-outlined" icon="icon-pencil"
                        (click)="onEdit()"></button>
                </div>
            </div>
            <div class="flex w-full data-view">
                <div class="grid grid-cols-12 gap-4 p-2 justify-center">
                    <div class="col-span-12 md:col-span-4">
                        <div class="detail-box">
                            <ul class="flex flex-wrap gap-20 gap-y-2 p-0 m-0 mb-6 list-none text-surface-600 dark:text-surface-200">
                                <li>
                                    <div class="mb-1 font-medium text-surface-900 dark:text-surface-0">Code</div>
                                    <span
                                        class="p-1 text-lg text-surface-600 dark:text-surface-200 border border-surface rounded-border bg-surface-50 dark:bg-surface-950">
                                        {{sh.shiftCode}}
                                    </span>
                                </li>
                                <li>
                                    <div class="mb-1 font-medium text-surface-900 dark:text-surface-0">Name</div>
                                    <span
                                        class="p-1 text-lg text-surface-600 dark:text-surface-200 border border-surface rounded-border bg-surface-50 dark:bg-surface-950">
                                        {{sh.name}}
                                    </span>
                                </li>
                                <li>
                                    <div class="mb-1 font-medium text-surface-900 dark:text-surface-0">Other code</div>
                                    <span
                                        *ngIf="sh.otherCode == null || sh.otherCode == undefined || sh.otherCode == ''"
                                        class="p-1 text-lg text-surface-600 dark:text-surface-200 border border-surface rounded-border bg-surface-50 dark:bg-surface-950">
                                        N/A
                                    </span>
                                    <span
                                        *ngIf="!(sh.otherCode == null || sh.otherCode == undefined || sh.otherCode == '')"
                                        class="p-1 text-lg text-surface-600 dark:text-surface-200 border border-surface rounded-border bg-surface-50 dark:bg-surface-950">
                                        {{sh.otherCode}}
                                    </span>

                                </li>
                                <li>
                                    <div class="mb-1 font-medium text-surface-900 dark:text-surface-0">Shift Mode</div>
                                    <span
                                        class="p-1 text-lg text-surface-600 dark:text-surface-200 border border-surface rounded-border bg-surface-50 dark:bg-surface-950">
                                        {{(sh.shiftMode == null || sh.shiftMode == undefined || sh.shiftMode == '') ?
                                        'N/A' : sh.shiftMode}}
                                    </span>
                                </li>
                                <li>
                                    <div class="mb-1 font-medium text-surface-900 dark:text-surface-0">Description</div>
                                    <span
                                        class="p-1 text-lg text-surface-600 dark:text-surface-200 border border-surface rounded-border bg-surface-50 dark:bg-surface-950">
                                        {{(sh.explanation == null || sh.explanation == undefined || sh.explanation ==
                                        '') ?
                                        'N/A' : sh.explanation}}
                                    </span>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-span-12 md:col-span-8">
                        <div class="">
                            <div class="flex flex-wrap gap-1 gap-y-4">
                                <div class="flex gap-2 p-2 checked-item border shadow-xl"
                                    [class]="sh.active ? ' border-green-500': 'border-red-500'">
                                    <i
                                        [class]="sh.active ? 'pi text-green-500 pi-check-circle' : 'pi text-red-500 pi-times-circle'"></i>
                                    <span class="font-bold text-surface-900 dark:text-surface-0">Active</span>
                                </div>
                                <div class="flex gap-2 p-2 checked-item border shadow-xl"
                                    [class]="sh.holiday ? ' border-green-500': 'border-red-500'">
                                    <i
                                        [class]="sh.holiday ? 'pi text-green-500 pi-check-circle' : 'pi text-red-500 pi-times-circle'"></i>
                                    <span class="font-bold text-surface-900 dark:text-surface-0">Holiday</span>
                                </div>
                                <div class="flex gap-2 p-2 checked-item border shadow-xl"
                                    [class]="sh.offDay ? ' border-green-500': 'border-red-500'">
                                    <i
                                        [class]="sh.offDay ? 'pi text-green-500 pi-check-circle' : 'pi text-red-500 pi-times-circle'"></i>
                                    <span class="font-bold text-surface-900 dark:text-surface-0">Off Day</span>
                                </div>
                                <div class="flex gap-2 p-2 checked-item border shadow-xl"
                                    [class]="sh.active ? ' border-green-500': 'border-red-500'">
                                    <i
                                        [class]="sh.active ? 'pi text-green-500 pi-check-circle' : 'pi text-red-500 pi-times-circle'"></i>
                                    <span class="font-bold text-surface-900 dark:text-surface-0">Flexi Timimg</span>
                                </div>
                                <div class="flex gap-2 p-2 checked-item border shadow-xl"
                                    [class]="sh.resetNh ? ' border-green-500': 'border-red-500'">
                                    <i
                                        [class]="sh.resetNh ? 'pi text-green-500 pi-check-circle' : 'pi text-red-500 pi-times-circle'"></i>
                                    <span class="font-bold text-surface-900 dark:text-surface-0">Reset NH</span>
                                </div>
                                <div class="flex gap-2 p-2 checked-item border shadow-xl"
                                    [class]="sh.swipGo ? ' border-green-500': 'border-red-500'">
                                    <i
                                        [class]="sh.swipGo ? 'pi text-green-500 pi-check-circle' : 'pi text-red-500 pi-times-circle'"></i>
                                    <span class="font-bold text-surface-900 dark:text-surface-0">Swipe and Go</span>
                                </div>
                                <div class="flex gap-2 p-2 checked-item border shadow-xl"
                                    [class]="sh.leEeRequiered ? ' border-green-500': 'border-red-500'">
                                    <i
                                        [class]="sh.leEeRequiered ? 'pi text-green-500 pi-check-circle' : 'pi text-red-500 pi-times-circle'"></i>
                                    <span class="font-bold text-surface-900 dark:text-surface-0">LE-EE required</span>
                                </div>
                                <div class="flex gap-2 p-2 checked-item border shadow-xl"
                                    [class]="sh.isRosterShift ? ' border-green-500': 'border-red-500'">
                                    <i
                                        [class]="sh.isRosterShift ? 'pi text-green-500 pi-check-circle' : 'pi text-red-500 pi-times-circle'"></i>
                                    <span class="font-bold text-surface-900 dark:text-surface-0">Roster shift</span>
                                </div>
                                <div class="flex gap-2 p-2 checked-item border shadow-xl"
                                    [class]="sh.firstPunchLastPunch == 1 ? ' border-green-500': 'border-red-500'">
                                    <i
                                        [class]="sh.firstPunchLastPunch == 1 ? 'pi text-green-500 pi-check-circle' : 'pi text-red-500 pi-times-circle'"></i>
                                    <span class="font-bold text-surface-900 dark:text-surface-0">First & Last Punch only</span>
                                </div>
                                <div class="flex gap-2 p-2 checked-item border shadow-xl"
                                    [class]="sh.breakSwipe ? ' border-green-500': 'border-red-500'">
                                    <i
                                        [class]="sh.breakSwipe ? 'pi text-green-500 pi-check-circle' : 'pi text-red-500 pi-times-circle'"></i>
                                    <span class="font-bold text-surface-900 dark:text-surface-0">Break Swipe</span>
                                </div>
                                <div class="flex gap-2 p-2 checked-item border shadow-xl"
                                    [class]="sh.missingHrRequiered ? ' border-green-500': 'border-red-500'">
                                    <i
                                        [class]="sh.missingHrRequiered ? 'pi text-green-500 pi-check-circle' : 'pi text-red-500 pi-times-circle'"></i>
                                    <span class="font-bold text-surface-900 dark:text-surface-0">Miss Hour required</span>
                                </div>
                                <div class="flex gap-2 p-2 checked-item border shadow-xl"
                                    [class]="sh.isOteligible ? ' border-green-500': 'border-red-500'">
                                    <i
                                        [class]="sh.isOteligible ? 'pi text-green-500 pi-check-circle' : 'pi text-red-500 pi-times-circle'"></i>
                                    <span class="font-bold text-surface-900 dark:text-surface-0">Overtime eligible</span>
                                </div>
                                <div class="flex gap-2 p-2 checked-item border shadow-xl"
                                    [class]="sh.fixedBreak ? ' border-green-500': 'border-red-500'">
                                    <i
                                        [class]="sh.fixedBreak ? 'pi text-green-500 pi-check-circle' : 'pi text-red-500 pi-times-circle'"></i>
                                    <span class="font-bold text-surface-900 dark:text-surface-0">Fixed Break</span>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="w-full my-1 border-b border-surface"></div>
                    <div class="p-2 col-span-12 md:col-span-6 lg:col-span-4 2xl:col-3">
                        <div class="list-box">
                            <span class="block mb-4 font-bold text-surface-900 dark:text-surface-0">General</span>
                            <div class="flex flex-wrap w-full">
                                <div class="grid grid-cols-12 gap-4 w-full items-center">
                                    <div class="flex gap-2 col-span-4 flex-col"
                                        *ngFor="let item of util.SHIFT_GENERAL; let i = index">
                                        <span class="font-semibold">{{item.label}} </span>
                                        <div class="flex gap-2 items-center">
                                            <span *ngIf="item?.isDate"
                                                class="gap-2 p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950 items-center value-box">
                                                <ng-container *ngIf="!item?.isHours">
                                                    {{sh[item.keyValue] | date :'shortTime'}}
                                                    <i class="icon-clock-arrow-up" *ngIf="sh[item.prev] == true"></i>
                                                    <i class="icon-clock-arrow-down" *ngIf="sh[item.next] == true"></i>
                                                </ng-container>
                                                <ng-container *ngIf="item.isHours">
                                                    {{sh[item.keyValue] | date :'HH:mm'}}
                                                </ng-container>

                                            </span>
                                            <span *ngIf="!item?.isDate"
                                                class="p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950 value-box">
                                                {{sh[item.keyValue] == 0 ? 'NO-OT' : 'OT-' +
                                                sh[item.keyValue] }}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- <ul class="p-0 m-0 mb-6 list-none text-surface-600 dark:text-surface-200">
                                <ng-container *ngIf="tableEntries.length > 0 ">
                                    <li class="mb-4 "
                                        [ngClass]="{' flex justify-between align-items-center': item?.isDate && item?.labelAlt != undefined}"
                                        *ngFor="let item of util.SHIFT_GENERAL">
                                        <span class="font-semibold">{{item.label + ' : '}} </span>
                                        <ng-container *ngIf="sh[item.keyValue] == null || sh[item.keyValue] == '';">
                                            <span class="p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950">
                                                N/A
                                            </span>
                                            <ng-container *ngIf="item?.isDate && item?.labelAlt != undefined">
                                                <span class="font-semibold">{{' ' + item.labelAlt + ' : '}} </span>
                                                <ng-container
                                                    *ngIf="sh[item.keyValueAlt] == null || sh[item.keyValueAlt] == '' || sh[item.keyValueAlt] == undefined;">
                                                    <span
                                                        class="p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950">
                                                        N/A
                                                    </span>
                                                </ng-container>
                                                <ng-container
                                                    *ngIf="!(sh[item.keyValueAlt] == null || sh[item.keyValueAlt] == '' || sh[item.keyValueAlt] == undefined)">
                                                    <span
                                                        *ngIf="!(sh[item.keyValueAlt] == null || sh[item.keyValueAlt] == '' || sh[item.keyValueAlt] == undefined)"
                                                        class="p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950 aaaa">
                                                        <ng-container *ngIf="!item?.isHours">
                                                            {{sh[item.keyValueAlt] | date :'shortTime'}}
                                                        </ng-container>
                                                        <ng-container *ngIf="item.isHours">
                                                            {{sh[item.keyValueAlt] | date :'h:mm'}}
                                                        </ng-container>
                                                        <i class="icon-clock-arrow-up"
                                                            *ngIf="sh[item.prev] == true"></i>
                                                        <i class="icon-clock-arrow-down"
                                                            *ngIf="sh[item.next] == true"></i>
                                                    </span>
                                                </ng-container>
                                            </ng-container>
                                        </ng-container>
                                        <ng-container #notNull
                                            *ngIf="!(sh[item.keyValue] == null || sh[item.keyValue] == '')">
                                            <span *ngIf="item?.isDate"
                                                class="p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950">
                                                <ng-container *ngIf="!item?.isHours">
                                                    {{sh[item.keyValue] | date :'shortTime'}}
                                                </ng-container>
                                                <ng-container *ngIf="item.isHours">
                                                    {{sh[item.keyValue] | date :'h:mm'}}
                                                </ng-container>
                                                <i class="icon-clock-arrow-up"
                                                    *ngIf="sh[item.prev] == true"></i>
                                                <i class="icon-clock-arrow-down"
                                                    *ngIf="sh[item.next] == true"></i>
                                            </span>
                                            <ng-container *ngIf="item?.isDate && item?.labelAlt != undefined">
                                                <span class="font-semibold">{{' ' + item.labelAlt + ' : '}} </span>
                                                <span class="p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950">
                                                    <ng-container *ngIf="!item?.isHours">
                                                        {{sh[item.keyValueAlt] | date :'shortTime'}}
                                                    </ng-container>
                                                    <ng-container *ngIf="item.isHours">
                                                        {{sh[item.keyValueAlt] | date :'h:mm'}}
                                                    </ng-container>
                                                    <i class="icon-clock-arrow-up"
                                                        *ngIf="sh[item.prev] == true"></i>
                                                    <i class="icon-clock-arrow-down"
                                                        *ngIf="sh[item.next] == true"></i>
                                                </span>
                                            </ng-container>
                                            <span *ngIf="!item?.isDate"
                                                class="p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950">
                                                {{sh[item.keyValue]}}
                                            </span>
                                            <span *ngIf="!item?.isDate"
                                                class="p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950">
                                                {{ sh[item.keyValue]}}
                                            </span>
                                        </ng-container>


                                    </li>
                                </ng-container>
                            </ul> -->
                        </div>
                    </div>
                    <div class="p-2 col-span-12 md:col-span-6 lg:col-span-4 2xl:col-3">
                        <div class="list-box">
                            <span class="block mb-4 font-bold text-blue-500 text-surface-900 dark:text-surface-0">Time Range</span>
                            <div class="flex flex-wrap w-full">
                                <div class="grid grid-cols-12 gap-4 w-full items-center">
                                    <div class="flex gap-2 col-span-6 flex-col"
                                        *ngFor="let item of util.SHIFT_TIMERANGE; let i = index">
                                        <span class="font-semibold">{{item.label}} </span>
                                        <div class="flex gap-2 items-center">
                                            <span *ngIf="item?.isDate"
                                                class="gap-2 p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950 items-center value-box">
                                                <ng-container *ngIf="!item?.isHours">
                                                    {{sh[item.keyValue] | date :'shortTime'}}
                                                    <i class="icon-clock-arrow-up" *ngIf="sh[item.prev] == true"></i>
                                                    <i class="icon-clock-arrow-down" *ngIf="sh[item.next] == true"></i>
                                                </ng-container>
                                                <ng-container *ngIf="item.isHours">
                                                    {{sh[item.keyValue] | date :'h:mm'}}
                                                </ng-container>

                                            </span>
                                            <span *ngIf="!item?.isDate"
                                                class="p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950 value-box">
                                                {{sh[item.keyValue] == 0 ? 'NO-OT' : 'OT-' +
                                                sh[item.keyValue] }}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-2 col-span-12 md:col-span-6 lg:col-span-4 2xl:col-3">
                        <div class="list-box">
                            <span class="block mb-4 font-bold text-surface-900 dark:text-surface-0">Early IN - OUT</span>
                            <div class="flex flex-wrap w-full">
                                <div class="grid grid-cols-12 gap-4 w-full items-center">
                                    <div class="flex gap-2 col-span-4 flex-col"
                                        *ngFor="let item of util.SHIFT_EARLYINOUT; let i = index">
                                        <span class="font-semibold">{{item.label}} </span>
                                        <div class="flex gap-2 items-center">
                                            <span *ngIf="item?.isDate"
                                                class="gap-2 p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950 items-center">
                                                <ng-container *ngIf="!item?.isHours">
                                                    {{sh[item.keyValue] | date :'shortTime'}}
                                                    <i class="icon-clock-arrow-up" *ngIf="sh[item.prev] == true"></i>
                                                    <i class="icon-clock-arrow-down" *ngIf="sh[item.next] == true"></i>
                                                </ng-container>
                                                <ng-container *ngIf="item.isHours">
                                                    {{sh[item.keyValue] | date :'h:mm'}}
                                                </ng-container>

                                            </span>
                                            <span *ngIf="!item?.isDate"
                                                class="p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950">
                                                {{sh[item.keyValue] == 0 ? 'NO-OT' : 'OT-' +
                                                sh[item.keyValue] }}
                                            </span>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-2 col-span-12 md:col-span-6 lg:col-span-4 2xl:col-3">
                        <div class="list-box">
                            <span class="block mb-4 font-bold text-surface-900 dark:text-surface-0">Set
                                Condition</span>
                            <ul class="p-0 m-0 mb-6 list-none text-surface-600 dark:text-surface-200">
                                <ng-container *ngIf="tableEntries.length > 0 ">
                                    <li class="flex mb-4 justify-between items-center"
                                        *ngFor="let item of util.SHIFT_CONDITIONS">
                                        <span class="font-semibold">{{item.label + ' : '}} </span>
                                        <span *ngIf="item?.isDate"
                                            class="p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950">
                                            <ng-container *ngIf="!item?.isHours">
                                                {{sh[item.keyValue] | date :'shortTime'}}
                                            </ng-container>
                                            <ng-container *ngIf="item.isHours">
                                                {{sh[item.keyValue] | date :'h:mm'}}
                                            </ng-container>
                                            <i class="icon-clock-arrow-up" *ngIf="sh[item.prev] == true"></i>
                                            <i class="icon-clock-arrow-down" *ngIf="sh[item.next] == true"></i>
                                        </span>
                                        <ng-container *ngIf="item?.isDate && item?.labelAlt != ''">
                                            <span class="font-semibold">{{' ' + item.labelAlt + ' : '}} </span>
                                            <span class="p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950">
                                                {{sh[item.keyValueAlt] | date :'shortTime'}}
                                                <i class="icon-clock-arrow-up" *ngIf="sh[item.prev] == true"></i>
                                                <i class="icon-clock-arrow-down" *ngIf="sh[item.next] == true"></i>
                                            </span>
                                        </ng-container>
                                        <span *ngIf="!item?.isDate"
                                            class="p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950">
                                            {{sh[item.keyValueAlt]}}
                                        </span>
                                    </li>
                                </ng-container>
                            </ul>
                        </div>
                    </div>
                    <div class="p-2 col-span-12 md:col-span-6 lg:col-span-4 2xl:col-3">
                        <div class="list-box">
                            <span class="block mb-4 font-bold text-surface-900 dark:text-surface-0">Split Shift</span>
                            <div class="grid grid-cols-12 gap-4 w-full items-center">
                                <div class="flex gap-2 col-span-4 flex-col"
                                    *ngFor="let item of util.SHIFT_SPLIT; let i = index">
                                    <span class="font-semibold">{{item.label}} </span>
                                    <div class="flex gap-2 items-center">
                                        <span *ngIf="item?.isDate"
                                            class="gap-2 p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950 items-center">
                                            <ng-container *ngIf="!item?.isHours">
                                                {{sh[item.keyValue] | date :'shortTime'}}
                                                <i class="icon-clock-arrow-up" *ngIf="sh[item.prev] == true"></i>
                                                <i class="icon-clock-arrow-down" *ngIf="sh[item.next] == true"></i>
                                            </ng-container>
                                            <ng-container *ngIf="item.isHours">
                                                {{sh[item.keyValue] | date :'h:mm'}}
                                            </ng-container>

                                        </span>
                                        <span *ngIf="!item?.isDate"
                                            class="p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950">
                                            {{sh[item.keyValue] == 0 ? 'NO-OT' : 'OT-' +
                                            sh[item.keyValue] }}
                                        </span>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-2 col-span-12 md:col-span-6 lg:col-span-4 2xl:col-3">
                        <div class="list-box">
                            <span class="block mb-4 font-bold text-surface-900 dark:text-surface-0">Parameters</span>
                            <div class="flex flex-wrap w-full">
                                <div class="grid grid-cols-12 gap-4 w-full items-center">
                                    <div class="flex gap-2 col-span-6 flex-col"
                                        *ngFor="let item of util.SHIFT_PARAAMETERS; let i = index">
                                        <span class="font-semibold">{{item.label}} </span>
                                        <div class="flex gap-2 items-center">
                                            <span *ngIf="item?.isDate"
                                                class="gap-2 p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950 items-center value-box">
                                                <ng-container *ngIf="!item?.isHours">
                                                    {{sh[item.keyValue] | date :'shortTime'}}
                                                    <i class="icon-clock-arrow-up" *ngIf="sh[item.prev] == true"></i>
                                                    <i class="icon-clock-arrow-down" *ngIf="sh[item.next] == true"></i>
                                                </ng-container>
                                                <ng-container *ngIf="item.isHours">
                                                    {{sh[item.keyValue] | date :'h:mm'}}
                                                </ng-container>

                                            </span>
                                            <span *ngIf="!item?.isDate"
                                                class="p-1 border border-surface rounded-border bg-surface-50 dark:bg-surface-950 value-box">
                                                {{sh[item.keyValue] == 0 ? 'NO-OT' : 'OT-' +
                                                sh[item.keyValue] }}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="w-full p-4 m-0 card bg-surface-0 dark:bg-surface-900 page-content-wrapper animate-flipright animate-duration-400 "
            *ngIf="mode == 'list'">

            <h5 class="mb-2">Shift</h5>

            <div class="flex w-full">
                <p-table #supportTable [rowHover]="true" [value]="tableEntries" [scrollable]="true"
                    scrollHeight="calc(100vh - 25rem)" [rows]="25" [showCurrentPageReport]="true"
                    [rowsPerPageOptions]="[25, 50, 100]" [loading]="isLoading" dataKey="code"
                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                    [globalFilterFields]="['name', 'compId']" [paginator]="true"
                    styleClass="p-datatable-gridlines p-datatable-sm" tableStyleClass="table-layout-fixed"
                    [resizableColumns]="true" columnResizeMode="fit" [autoLayout]="true" class="rounded-border"
                    responsive="true">
                    <ng-template pTemplate="caption">
                        <div class="flex flex-wrap justify-between">
                            <div class="flex flex-row gap-2 items-center justify-start">
                                <span class="p-float-label">
                                    <p-dropdown [options]="companies" [showClear]="false"
                                        placeholder="Filter by Company"
                                        (onChange)="supportTable.filterGlobal($event.value.compId, 'equals')"
                                        [(ngModel)]="selectedCompany">
                                        <ng-template let-selectedValue pTemplate="selectedItem">
                                            <div class="flex gap-2 items-center" *ngIf="selectedValue">
                                                <img src="assets/context/images/flag/flag_placeholder.png"
                                                    [class]="'flag flag-' + selectedValue.logo" style="width: 21px" />
                                                <div>{{ selectedValue.name }}</div>
                                            </div>
                                        </ng-template>
                                        <ng-template let-company pTemplate="item">
                                            <div class="flex gap-2 items-center">
                                                <img src="assets/context/images/flag/flag_placeholder.png"
                                                    [class]="'flag flag-' + company.logo" style="width: 21px" />
                                                <div>{{ company.name }}</div>
                                            </div>
                                        </ng-template>
                                    </p-dropdown>
                                    <label for="username">Company Name</label>
                                </span>
                                <div class="flex flex-wrap">
                                    <span class="p-float-label">
                                        <input type="text" pInputText placeholder="Search by Name" #filter
                                            (input)="supportTable.filterGlobal($event.target.value, 'contains')" />
                                        <label for="username" class="-top-3">Name</label>
                                    </span>
                                </div>
                            </div>

                            <div class="flex flex-wrap gap-2">
                                <button pButton label="New Shift" class="p-button-outlined" icon="pi pi-plus"
                                    (click)="addNew('edit')"></button>
                            </div>
                        </div>
                    </ng-template>
                    <ng-template pTemplate="header">
                        <tr>
                            <th style="width:3.5rem !important;">
                                <div class="flex justify-center items-center">
                                    #
                                </div>
                            </th>
                            <th pSortableColumn="code">
                                <div class="flex justify-center items-center">
                                    Code
                                </div>
                            </th>
                            <th pSortableColumn="name" class="w-80">
                                <div class="flex justify-center items-center">
                                    Name
                                </div>
                            </th>
                            <th pSortableColumn="shiftStartRange">
                                <div class="flex justify-center items-center">
                                    Start Range
                                </div>
                            </th>
                            <th pSortableColumn="nhinTime">
                                <div class="flex justify-center items-center">
                                    In Time
                                </div>
                            </th>
                            <th pSortableColumn="latestAllowed">
                                <div class="flex justify-center items-center">
                                    Late Grace
                                </div>
                            </th>
                            <th pSortableColumn="earliestAllowed">
                                <div class="flex justify-center items-center">
                                    Early Grace
                                </div>
                            </th>
                            <th pSortableColumn="nhoutTime">
                                <div class="flex justify-center items-center">
                                    Out Time
                                </div>
                            </th>
                            <th pSortableColumn="shiftEndRange">
                                <div class="flex justify-center items-center">
                                    End Range
                                </div>
                            </th>
                            <th pSortableColumn="nh">
                                <div class="flex justify-center items-center">
                                    Normal Hrs
                                </div>
                            </th>
                            <th pSortableColumn="dgv_Active">
                                <div class="flex justify-center items-center">
                                    Active
                                </div>
                            </th>
                            <th pSortableColumn="isRotaShift">
                                <div class="flex justify-center items-center">
                                    Rota
                                </div>
                            </th>
                            <th class="text-center w-32" class="w-16">View</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-rowIndex="rowIndex" let-data>
                        <tr>
                            <td class="text-center text-surface-900 dark:text-surface-0">{{rowIndex + 1}}</td>
                            <td class="text-left text-surface-900 dark:text-surface-0">{{data.shiftCode}}</td>
                            <td class="text-left text-surface-900 dark:text-surface-0">{{data.name}}</td>
                            <td class="text-center text-surface-900 dark:text-surface-0">{{data.shiftStartRange | date :'shortTime'}}</td>
                            <td class="text-center text-surface-900 dark:text-surface-0">{{data.nhinTime | date :'shortTime'}}</td>
                            <td class="text-center text-surface-900 dark:text-surface-0">{{data.latestAllowed | date :'shortTime'}}</td>
                            <td class="text-center text-surface-900 dark:text-surface-0">{{data.earliestAllowed | date :'shortTime'}}</td>
                            <td class="text-center text-surface-900 dark:text-surface-0">{{data.nhoutTime | date :'shortTime'}}</td>
                            <td class="text-center text-surface-900 dark:text-surface-0">{{data.shiftEndRange | date :'shortTime'}}</td>
                            <td class="text-center text-surface-900 dark:text-surface-0">{{data.nh | date :'h:mm'}}</td>
                            <td class="text-center text-surface-900 dark:text-surface-0">
                                <i class="pi"
                                    [ngClass]="data.active ? 'text-green-500 pi-check-circle' : 'text-red-500 pi-times-circle'"></i>
                            </td>
                            <td class="text-center text-surface-900 dark:text-surface-0">
                                <i class="pi"
                                    [ngClass]="data.isRotaShift ? 'text-green-500 pi-check-circle' : 'text-red-500 pi-times-circle'"></i>
                            </td>
                            <td class="text-center text-surface-900 dark:text-surface-0">
                                <button pButton pRipple icon="pi pi-folder-open" pTooltip="View"
                                    class="mr-2 p-button-rounded p-button-info p-button-outlined"
                                    (click)="onView(data)"></button>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </div>

</div>